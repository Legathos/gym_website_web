<mat-toolbar class="top-bar">
  <button (click)="goBack()" aria-label="Go back" mat-icon-button>
    <mat-icon>arrow_back</mat-icon>
  </button>
  <span>Barcode Scanner</span>
</mat-toolbar>

<div class="scanner-container">
  <!-- Camera feed placeholder - to be implemented later -->
  <div class="camera-placeholder">
    <video #video autoplay height="auto" playsinline width="100%"></video>
  </div>

  <!-- Scanned food details card -->
  <mat-card *ngIf="scannedFood" class="food-details-card">
    <mat-card-content>
      <div class="nutrition-details">
        <!-- Name Box -->
        <div class="nutrition-box name-box">
          <div class="box-label">Name</div>
          <div class="box-value">{{ scannedFood.name }}</div>
          <div class="box-subtitle">Details for 100g</div>
        </div>

        <!-- Horizontal nutrition info -->
        <div class="horizontal-nutrition-info">
          <!-- Calories Box -->
          <div class="nutrition-box calories-box">
            <div class="box-label">Calories</div>
            <div class="box-value">{{ scannedFood.calories }}</div>
            <div class="box-unit">kcal</div>
          </div>

          <!-- Protein Box -->
          <div class="nutrition-box protein-box">
            <div class="box-label">Protein</div>
            <div class="box-value">{{ scannedFood.protein }}</div>
            <div class="box-unit">g</div>
          </div>

          <!-- Carbs Box -->
          <div class="nutrition-box carbs-box">
            <div class="box-label">Carbs</div>
            <div class="box-value">{{ scannedFood.carbs }}</div>
            <div class="box-unit">g</div>
          </div>

          <!-- Fats Box -->
          <div class="nutrition-box fats-box">
            <div class="box-label">Fats</div>
            <div class="box-value">{{ scannedFood.fats }}</div>
            <div class="box-unit">g</div>
          </div>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button (click)="addToMeal()" color="primary" mat-raised-button>Add to Meal</button>
      <button (click)="restartScanning()" color="accent" mat-raised-button>Rescan</button>
    </mat-card-actions>
  </mat-card>

  <!-- Message when no barcode is scanned -->
  <div *ngIf="!scannedFood" class="no-scan-message">
    <mat-icon>qr_code_scanner</mat-icon>
    <p>Show barcode anywhere on screen</p>
    <p class="scan-tip">The entire camera view is active for scanning</p>
  </div>
</div>
